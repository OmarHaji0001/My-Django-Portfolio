{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Omar Haji Portfolio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"/>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"/>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/lazyLoad.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">
    <link rel="stylesheet" href="{% static 'css/back-to-top.css' %}">
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
    <link rel="stylesheet" href="{% static 'css/carousel.css' %}">
    <link rel="icon" href="{{ personal_info.logo.url }}" type="image/png">
</head>
<body>

<div style="position: relative">
    <div style="position: absolute; width: 100%; z-index: 2;">
        {% include 'base components/navbar.html' %}
    </div>

    {% block banner %}
    {% endblock banner %}
    <div style="height: 1px;"></div>
</div>

{% block content %}
{% endblock content %}
<div style="height: 80px"></div>
{% include 'base components/footer.html' %}

<!-- Back To Top Button -->
<button id="wm-back-to-top">
    <div class="btt-background"></div>
    <div class="icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" aria-labelledby="title" role="img"
             xmlns:xlink="http://www.w3.org/1999/xlink">
            <title>Arrow Up</title>
            <path data-name="layer2" fill="none" stroke="#202020" stroke-miterlimit="10" stroke-width="2" d="M32 10v46"
                  stroke-linejoin="round" stroke-linecap="round"></path>
            <path data-name="layer1" fill="none" stroke="#202020" stroke-miterlimit="10" stroke-width="2"
                  d="M50 20 L32 4 14 20" stroke-linejoin="round" stroke-linecap="round"></path>
        </svg>
    </div>
</button>

<!-- Loader -->
<div class="loader-wrapper">
    <img src="{{ spinner_image_url }}" class="spinner" alt="Loading...">
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

<script>
    AOS.init();
    $(window).on("load", function () {
        $(".loader-wrapper").fadeOut("slow");
    });


    $(document).ready(function () {
        $('.owl-carousel').owlCarousel({
            loop: true,
            margin: 10,
            center: true,
            items: 3,
            stagePadding: 0,
            autoplay: true,
            autoplayTimeout: 5000,
            autoplayHoverPause: true,
            nav: true,
            navText: ['<i class="fa fa-arrow-left"></i>', '<i class="fa fa-arrow-right"></i>'],
            responsive: {
                0: {
                    items: 1 // Show one item on small screens
                },
                768: {
                    items: 1 // Show one item on medium screens
                },
                992: {
                    items: 3 // Show three items on larger screens
                }
            }
        });
    });
    $(function () {
        $(document).scroll(function () {
            var $nav = $(".navbar"); // Select your navbar
            $nav.toggleClass('scrolled', $(this).scrollTop() > $nav.height());
        });
    });
    document.addEventListener("DOMContentLoaded", function () {
        var typed = new Typed(".auto-type", {
            strings: ["Full-Stack Developer", "Django Developer", "Unity Developer", "Freelancer"],
            typeSpeed: 100,
            backSpeed: 50,
            loop: true,
        });
    });
    (function () {
        let throttlePause;

        document.addEventListener('click', function (e) {
            if (!e.target.closest('#wm-back-to-top')) return;
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            let btt = document.querySelector('#wm-back-to-top');
            let body = document.body;
            body.append(btt);
            if (btt?.closest('.sqs-block-content')) {
                btt.closest('.sqs-block-content').style.display = 'inline';
            }
        });

        const throttle = (callback, time) => {
            if (throttlePause) return;

            throttlePause = true;
            setTimeout(() => {
                callback();
                throttlePause = false;
            }, time);
        };

        const checkPos = () => {
            let pos = document.documentElement.scrollTop,
                revealHeight = window.innerHeight * 0.16,
                bttButton = document.querySelector('#wm-back-to-top');
            if (pos >= revealHeight) {
                bttButton.classList.add('show');
            } else {
                bttButton.classList.remove('show');
            }
        };

        window.addEventListener("scroll", () => {
            throttle(checkPos, 150);
        });
        window.addEventListener('DOMContentLoaded', checkPos);
    }());
</script>
</body>
</html>
